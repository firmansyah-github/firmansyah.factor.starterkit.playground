# Firmansyah Factor Starter-kit Playground

"Welcome to the Firmansyah Factor Starter-kit Playground GitHub repository. This repository is designed for learning and experimenting with the following components:

1. **Factor FreeMarker Mindmap and Xmind Software Tool:**
   - To facilitate a swift understanding of Apache FreeMarker 2.3.26, which serves as our template engine, we have provided a detailed mind map. You can find more information in this [link](./factor.freemarker.xmind/README.md).

2. **Factor Eclipse IDE Snippets XML Files:**
   - These files are essential for storing and managing code snippets or templates that can be easily incorporated into your FreeMarker template source code. These snippets can encompass commonly used code fragments or templates for recurring code patterns. They streamline your development workflow by enabling you to quickly insert boilerplate code or common constructs without manual typing. You can find additional details in this [link](./factor.eclipse.snippets/README.md).

3. **Factor FreeMarker Template Examples:**
   - This collection comprises template files that can be modified and tested for rendering using the Factor Eclipse Plugin. These template examples also offer guidance on utilizing the "Content Assist of The Factor FreeMarker" for efficient template development. Note that Content Assist functions optimally when the template is opened through the Factor Eclipse Plugin. Further details can be found in this [link](./factor.templates.example/README.md).

## Prerequisites:
To make the most of this resource, ensure you have the following prerequisites in place:
1. Eclipse IDE.
2. The Factor Eclipse Plugin.
3. A valid license key.
4. Proficiency in utilizing the various editor features provided by The Factor Eclipse Plugin."

## How to get Eclipse IDE
You can download and install the Eclipse Integrated Development Environment (IDE) by following these steps:

1. **Visit the Eclipse Website**:
   Go to the official Eclipse website at [https://www.eclipse.org/](https://www.eclipse.org/).

2. **Choose Your Eclipse IDE Flavor**:
   Eclipse offers different IDE flavors tailored for various programming languages and development needs. The most common ones are Eclipse IDE for Java Developers, Eclipse IDE for Java EE Developers, Eclipse IDE for C/C++ Developers, Eclipse IDE for PHP Developers, and more. Choose the one that best suits your development requirements.

3. **Download Eclipse**:
   Click on the download link for the Eclipse IDE flavor you've selected. You will be redirected to a download page.

4. **Select Your Download**:
   On the download page, you will often find different download options, such as different versions of Eclipse IDE and download mirrors. Choose the appropriate version for your operating system (e.g., Windows, Linux, macOS) and click on the download link. Be sure to select the version that matches your system architecture (32-bit or 64-bit).

5. **Download the Installer**:
   Eclipse now offers an installer, which simplifies the installation process. You can choose to download the installer (recommended) or download the package as a zip file. The installer provides a user-friendly way to manage Eclipse installations and plugins.

6. **Run the Installer or Extract the Zip File**:
   If you downloaded the installer, run it, and it will guide you through the installation process. If you downloaded the zip file, extract its contents to a directory of your choice.

7. **Launch Eclipse**:
   Once the installation is complete or the zip file is extracted, you can launch Eclipse by running the `eclipse` executable file located in the Eclipse directory.

8. **Workspace Selection**:
   When you first run Eclipse, it will ask you to select a workspace directory. This is where your projects and configuration settings will be stored. You can choose the default workspace or specify a different location.

9. **Start Developing**:
   You are now ready to start using Eclipse for your development projects. You can create new projects, import existing ones, and install additional plugins to enhance your development environment.

Eclipse is a highly extensible IDE, so you can customize it with various plugins and extensions to support different programming languages and development tasks. Additionally, you can check for updates and manage plugins via the Eclipse Marketplace, which is accessible from the Eclipse IDE itself.

Remember to ensure that you have Java installed on your system, as Eclipse is a Java-based application, and it requires a Java Runtime Environment (JRE) or a Java Development Kit (JDK) to run.


## How to install The Factor Eclipse Plugin via "Install New Software..."

Please note that the process may vary slightly depending on your specific Eclipse version and configuration. Additionally, it's essential to ensure that the update site URL (`https://firmansyah-github.github.io/firmansyah-factor-updates/`) is indeed the correct update site for the Factor Eclipse Plugin, as using an incorrect URL can lead to installation issues.

To install The Factor Eclipse Plugin via "Install New Software" using a specific update site (in this case, `https://firmansyah-github.github.io/firmansyah-factor-updates/`), follow these steps:

1. Open your Eclipse IDE.

2. Go to the "Help" menu at the top of the Eclipse window.

3. Select "Install New Software" from the dropdown.

4. In the "Available Software" dialog, click the "Add" button to add a new software site.

5. In the "Add Repository" dialog, provide a name for the update site (e.g., "Factor Eclipse Plugin") and enter the URL `https://firmansyah-github.github.io/firmansyah-factor-updates/` in the "Location" field. Click "OK."

6. The update site should now appear in the "Work with" dropdown. Select it from the dropdown.

7. You should see the available features and plugins from the update site. Select the Factor Eclipse Plugin from the list.

8. Click "Next" to review the installation details.

9. Review the details, click "Next" again, and then accept the terms of the license agreement.

10. Click "Finish" to start the installation.

11. Eclipse will download and install the Factor Eclipse Plugin. After the installation is complete, it will prompt you to restart Eclipse. Go ahead and restart Eclipse.

The Factor Eclipse Plugin should now be successfully installed via the specified update site.


## How to get a valid license key.

After get Eclipse IDE and The Factor Eclipse Plugin, you need to get a valid license key with following steps:

1. Open your Eclipse IDE.

2. Go to the "Preferences..." menu at the top of the Eclipse window.

3. Select "Firmansyah Software Licenses" from the left tree menu.

4. On right side panel, select "The Factor (Firmansyah Advanced CRUD Generator) X.Y.Z.vYYYYMMDD-HHMM".

5. Click "Request License" button.

6. Fill all the required information on the pop up dialog window form. You can choose the license type "Free" or ""Commercial".

7. Click "Send Email" button.

8. Kindly await an email from factor.license@gmail.com. 
   For the Free license, you will receive a license key that grants a 30-day trial period with a table limit of 3 tables and a maximum of 3 fields per table. 
   If you are interested in obtaining a commercial license, you will receive an email for payment request. Upon confirmation of payment, a second email will be sent to you containing the one-year subscription license key.
   


## How to Install a Valid License Key

After obtaining a valid license key, you can install it by following these steps:

1. Launch your Eclipse IDE.

2. Navigate to the "Preferences..." menu at the top of the Eclipse window.

3. In the left-hand navigation menu, select "Firmansyah Software Licenses."

4. Click the "Add License..." button.

5. Locate your valid license key on your local system, and then click "Open."

6. If the license key is valid, its information will be added and displayed under the label "The Factor (Firmansyah Advanced CRUD Generator) X.Y.Z.vYYYYMMDD-HHMM."

7. Click the "Apply and Close" button to save your license key settings.

8. You are now ready to utilize The Factor Eclipse Plugin.


## "Mastering the Effective Use of the Varied Editor Features Offered by The Factor Eclipse Plugin"

"Please view the YouTube video by following this link: [https://youtu.be/jFHrv93ieGQ](https://youtu.be/jFHrv93ieGQ?si=UYGWAMMxHwmwNsQ5).

This video is organized into various sections:

1. **Agenda of This Video Content (0:00)**: [Watch here](https://www.youtube.com/watch?v=jFHrv93ieGQ&t=0s).

2. **The Factor Eclipse Plugin Installation (Skip this section) (1:10)**: [Skip to this part](https://www.youtube.com/watch?v=jFHrv93ieGQ&t=70s).

3. **Model Editor - Database Configuration (3:31)**: [View here](https://www.youtube.com/watch?v=jFHrv93ieGQ&t=211s).

4. **Model Editor - Table Configuration (11:12)**: [Go to this section](https://www.youtube.com/watch?v=jFHrv93ieGQ&t=672s).

5. **Model Editor - Field Configuration (16:50)**: [Jump to this part](https://www.youtube.com/watch?v=jFHrv93ieGQ&t=1010s).

6. **Template Editor - Directory Configuration (20:09)**: [Access here](https://www.youtube.com/watch?v=jFHrv93ieGQ&t=1209s).

7. **Template Editor - Template Configuration (24:43)**: [Navigate to this segment](https://www.youtube.com/watch?v=jFHrv93ieGQ&t=1483s).

8. **Template Editor - Placeholder Configuration (30:04)**: [Explore this portion](https://www.youtube.com/watch?v=jFHrv93ieGQ&t=1804s).

9. **XML Editor (46:33)**: [Visit this part](https://www.youtube.com/watch?v=jFHrv93ieGQ&t=2793s)."



## The Factor Templates Complete Project Example

1. **Quarkus Backend Templates**:
   GitHub Repository: [https://github.com/firmansyah-github/firmansyah.template.quarkus.git](https://github.com/firmansyah-github/firmansyah.template.quarkus.git)

## AI Prompt Generated By Google Gemini
```
To ensure AI models like ChatGPT, DeepSeek, Copilot, and Gemini can easily understand and utilize your FreeMarker data models, I've consolidated and structured all the provided information. This will serve as a comprehensive reference, allowing the AI to consistently access all attributes and understand their context and purpose.

-----

**AI Prompt: Comprehensive FreeMarker Data Model Reference**

This document describes the various data models available within the FreeMarker environment, including details about database entities (`adv.entities`), database connection properties (`dbs`), application generation settings (`adv` and `adv.generation`), draft template configurations (`adv.draftTemplate`), and private/public system attributes for advanced control.

-----

## **1. Database Entities Data Model (`adv.entities`)**

The `adv.entities` object represents a list of database entities. Each item in this list is an `Entity` object, containing detailed information about a database table, its fields, and relationships.

### **`Entity` Object Attributes:**

  * **`baseName`**: (String) The base name derived from the entity.
  * **`className`**: (String) The Java class name for the entity.
  * **`allFieldSelection`**: (Boolean) `true` if all fields of the entity are selected.
  * **`create`**: (Boolean) `true` if the entity is marked for creation.
  * **`emptyBaseName`**: (Boolean) `true` if the `baseName` is empty.
  * **`emptyTableName`**: (Boolean) `true` if the `tableName` is empty.
  * **`haveSpaceTableName`**: (Boolean) `true` if the `tableName` contains spaces.
  * **`instanceName`**: (String) The instance name for the entity.
  * **`remarks`**: (String, defaults to 'null') General comments or description of the entity.
  * **`reservedWordBaseName`**: (Boolean) `true` if `baseName` is a reserved keyword.
  * **`selected`**: (Boolean) `true` if the entity is selected.
  * **`tableName`**: (String) The database table name.
  * **`validPatternBaseName`**: (Boolean) `true` if `baseName` follows a valid naming pattern.
  * **`hasAttachFileField`**: (Boolean) `true` if the entity includes a file attachment field (derived from `hasAttachFileField()`).
  * **`hasDuplicateFieldName`**: (Boolean) `true` if any field names within the entity are duplicated (derived from `hasDuplicateFieldName()`).
  * **`hasLob`**: (Boolean) `true` if the entity contains Large Object (LOB) fields (derived from `hasLob()`).
  * **`toStringStatement`**: (String) A statement used for generating the `toString()` method.
  * **`Test`**: (String) A test attribute dynamically generated using `getTest('${i.tableName}')`.

-----

### **Nested Lists within `Entity` Object:**

All nested lists (`exportedKeys`, `importedKeys`, `attachFileFieldList`, `fieldList`, `fieldListExceptLob`, `primaryKeyFieldList`, `fieldListExceptForeignKey`, `fieldListSortByOrdinalPosition`, `toStringFieldList`) contain objects with consistent attribute sets.

#### **1.1. `ExportedKey` / `ImportedKey` Objects (in `exportedKeys` and `importedKeys` lists):**

  * **`pkTableName`**: (String) Primary key table name.
  * **`pkBaseName`**: (String) Primary key base name.
  * **`pkColumnName`**: (String) Primary key column name.
  * **`fkTableName`**: (String) Foreign key table name.
  * **`fkBaseName`**: (String) Foreign key base name.
  * **`fkColumnName`**: (String) Foreign key column name.
  * **`fkSequence`**: (Integer) Foreign key sequence number.
  * **`updateRule`**: (Integer) Update rule for the foreign key.
  * **`deleteRule`**: (Integer) Delete rule for the foreign key.
  * **`fkName`**: (String) Foreign key name.
  * **`pkName`**: (String) Primary key name.
  * **`create`**: (Boolean) `true` if the key is marked for creation.
  * **`exported`**: (Boolean, defaults to `false`) `true` if the key is exported.
  * **`selected`**: (Boolean, defaults to `false`) `true` if the key is selected.

-----

#### **1.2. `Field` Objects (in `attachFileFieldList`, `fieldList`, `fieldListExceptLob`, `primaryKeyFieldList`, `fieldListExceptForeignKey`, `fieldListSortByOrdinalPosition`, `toStringFieldList` lists):**

  * **`create`**: (Boolean) `true` if the field is marked for creation.
  * **`lob`**: (Boolean) `true` if the field is a Large Object (LOB) type.
  * **`nullable`**: (Boolean) `true` if the field can store null values.
  * **`pkPosition`**: (Integer) The position of the field if it's part of the primary key.
  * **`fieldType`**: (String) The programming language (e.g., Java) type of the field.
  * **`fieldName`**: (String) The programmatic (camelCase) name of the field.
  * **`columnSize`**: (Integer) The maximum size of the column.
  * **`columnType`**: (String) The SQL data type name of the column.
  * **`columnName`**: (String) The actual column name in the database.
  * **`remarks`**: (String, defaults to 'null') Comments or description for the column.
  * **`autoincrement`**: (Boolean) `true` if the column is auto-incrementing.
  * **`ordinalPosition`**: (Integer) The sequential position of the column in the table.
  * **`columnDataType`**: (Integer) The JDBC `java.sql.Types` integer code for the column's data type.
  * **`attachFileType`**: (Boolean) `true` if the field is specifically for attached files.
  * **`emptyColumnName`**: (Boolean) `true` if `columnName` is empty.
  * **`emptyColumnType`**: (Boolean) `true` if `columnType` is empty.
  * **`emptyFieldName`**: (Boolean) `true` if `fieldName` is empty.
  * **`emptyFieldType`**: (Boolean) `true` if `fieldType` is empty.
  * **`firstCapFieldName`**: (String) The field name with its first letter capitalized.
  * **`getterMethodName`**: (String) The generated getter method name.
  * **`haveSpaceColumnName`**: (Boolean) `true` if `columnName` contains spaces.
  * **`haveSpaceColumnType`**: (Boolean) `true` if `columnType` contains spaces.
  * **`hasNullValue`**: (Boolean) `true` if the field's value is null (derived from `hasNullValue()`).
  * **`nullValue`**: (String, defaults to 'null') The string representation of a null value for this field's type.
  * **`primitiveType`**: (Boolean) `true` if `fieldType` is a Java primitive type.
  * **`reservedFieldName`**: (Boolean) `true` if `fieldName` is a reserved word.
  * **`setterMethodName`**: (String) The generated setter method name.
  * **`simpleFieldType`**: (String) The simple class name of `fieldType` (without package).
  * **`simpleObjectClassName`**: (String) The simple object class name for the field.
  * **`toPrimitiveMethod`**: (String, defaults to 'null') The method name to convert the field to a primitive type.
  * **`unique`**: (Boolean) `true` if the field has a unique constraint.
  * **`validColumnSize`**: (Boolean) `true` if `columnSize` is valid.
  * **`validFieldType`**: (Boolean) `true` if `fieldType` is valid.
  * **`validNullable`**: (Boolean) `true` if `nullable` is valid.
  * **`validPatternFieldName`**: (Boolean) `true` if `fieldName` follows a valid pattern.
  * **`validPatternFieldType`**: (Boolean) `true` if `fieldType` follows a valid pattern.

-----

#### **1.3. `importClassNameList`**: (List of Strings)

Each item `n` is a `String` representing a fully qualified class name that needs to be imported.

#### **1.4. `importDeclarations`**: (List of Strings)

Each item `o` is a `String` representing a full import statement (e.g., `import java.util.List;`).

-----

## **2. Database Connection Data Model (`dbs`)**

The `dbs` object provides access to database connection and metadata properties.

### **2.1. Collection Fields (Iterable Lists):**

These can be iterated using `<#list dbs.<listName> as i>`.

  * **`dbs.catalogs`**: (List of Strings) List of available database catalogs.
  * **`dbs.schemas`**: (List of Strings) List of available database schemas.
  * **`dbs.tableTypes`**: (List of Strings) List of supported table types (e.g., `TABLE`, `VIEW`).
  * **`dbs.tableTypesList`**: (List of Strings) Another list of supported table types, potentially for a different context or format.

### **2.2. Single Field Access (Properties):**

These are direct property reads using `${dbs.<propertyName>}`.

  * **`dbs.catalog`**: (String) The currently selected database catalog.
  * **`dbs.create`**: (Boolean) Indicates a creation flag for the database context.
  * **`dbs.driverClassName`**: (String) The JDBC driver class name.
  * **`dbs.driverFile`**: (String) The path to the JDBC driver file.
  * **`dbs.name`**: (String) The database connection name.
  * **`dbs.password`**: (String) The database user's password.
  * **`dbs.profileName`**: (String) The name of the database profile.
  * **`dbs.schema`**: (String) The currently selected database schema.
  * **`dbs.tablePattern`**: (String) A pattern used to filter tables.
  * **`dbs.tableType`**: (String) The selected table type.
  * **`dbs.url`**: (String) The JDBC connection URL.
  * **`dbs.user`**: (String) The database username.

### **2.3. Setters (Programmatic Overrides):**

These methods can be called from FreeMarker to modify `dbs` properties.
**(Note: Using setters in FreeMarker templates is generally discouraged for separation of concerns.)**

  * `dbs.setCatalog(String)`
  * `dbs.setCreate(Boolean)`
  * `dbs.setName(String)`
  * `dbs.setPassword(String)`
  * `dbs.setProfileName(String)`
  * `dbs.setSchema(String)`
  * `dbs.setTablePattern(String)`
  * `dbs.setTableType(String)`

-----

## **3. Application Generation Data Model (`adv` and `adv.generation`)**

This section describes attributes related to overall application generation settings.

### **3.1. Reading Data from `adv` and `adv.generation` (Read-Only):**

  * **`adv.buildDate`**: (Datetime) The build date of the application.
  * **`adv.comment`**: (String) A general comment string for the application.
  * **`adv.generation.create`**: (Boolean) `true` if the generation process is set to create output.
  * **`adv.generation.outputDir`**: (String) The output directory for generated files. `?has_content` can check if it's set.
  * **`adv.generation.packageName`**: (String) The base package name for generated code. `?has_content` can check if it's set.
  * **`adv.generation.rootDir`**: (String) The root directory for the generation process.
  * **`adv.generation.specifyTemplateDir`**: (Boolean) `true` if a specific template directory is being used.
  * **`adv.generation.superClassName`**: (String) The superclass name for generated classes. `?has_content` can check if it's set.
  * **`adv.generation.templateDir`**: (String) The directory where templates are located.

### **3.2. Modifying Data via Method Calls (Mutators):**

These expressions call setter methods on the Java objects backing the `adv` model to change data.
**(Note: These are generally not recommended for use within FreeMarker templates due to side effects.)**

  * `adv.setBuildDate(Date)`
  * `adv.setComment(String)`
  * `adv.generation.setCreate(Boolean)`
  * `adv.generation.setOutputDir(String)`
  * `adv.generation.setPackageName(String)`
  * `adv.generation.setRootDir(String)`
  * `adv.generation.setSpecifyTemplateDir(Boolean)`
  * `adv.generation.setSuperClassName(String)`
  * `adv.generation.setTemplateDir(String)`

-----

## **4. Draft Template Configuration (`adv.draftTemplate`)**

This model controls settings for draft template generation.

### **4.1. Direct Field Access (Read-Only):**

  * **`adv.draftTemplate.appDir`**: (String, defaults to '') The application directory.
  * **`adv.draftTemplate.create`**: (Boolean) `true` if the draft template is set for creation.
  * **`adv.draftTemplate.draftDir`**: (String, defaults to '') The draft directory.

### **4.2. Iterating `draftTemplateKeyValue` List:**

The `adv.draftTemplateKeyValue` is a list of objects, each containing:

  * **`create`**: (Boolean) `true` if the key-value pair is set for creation.
  * **`name`**: (String) The name of the key-value pair.
  * **`no`**: (Number or String) A sequence number or identifier.
  * **`selected`**: (Boolean) `true` if the key-value pair is selected.
  * **`value`**: (String) The value associated with the key.

### **4.3. Mutating Data via Java Method Calls:**

**(Note: These are generally discouraged for use within FreeMarker templates.)**

  * `adv.draftTemplate.setAppDir(String)`
  * `adv.draftTemplate.setCreate(Boolean)`
  * `adv.draftTemplate.setDraftDir(String)`

-----

## **5. File and Private System Attributes (`adv.file*` and `PRV_SYS_*`)**

These models provide configurations for generated files and system-level private attributes.

### **5.1. File-Specific Data (`adv.fileDefaultAttrs`, `adv.filePublicAttrs`, `adv.fileTmplts`)**

  * **`adv.fileDefaultAttrs`**: (Map) Default attributes for files. Iterated as `key, value` pairs.
  * **`adv.filePublicAttrs`**: (Map) Public attributes for files. Iterated as `key, value` pairs.
  * **`adv.fileTmplts`**: (List of Objects) Each object `k` in this list represents a template file with:
      * **`absolutePath`**: (String) The absolute path of the template.
      * **`allFileAttrSelected`**: (Boolean) `true` if all file attributes are selected.
      * **`create`**: (Boolean) `true` if the file is marked for creation.
      * **`generatedPath`**: (String) The path where the file will be generated.
      * **`generatedType`**: (String) The type of generation (e.g., `one`, `many`, `copy`).
      * **`name`**: (String) The name of the template file.
      * **`path`**: (String) The path of the template.
      * **`relativePath`**: (String) The relative path of the template.
      * **`selected`**: (Boolean) `true` if the file is selected.
      * **`size`**: (Number) The size of the file.
      * **`k.fileAttrList`**: (Nested List) Each item in this list has:
          * **`allFileAttrSelected`**: (Boolean)
          * **`create`**: (Boolean)
          * **`desc`**: (String) Description.
          * **`name`**: (String) Attribute name.
          * **`no`**: (Number or String) Sequence number.
          * **`value`**: (String) Attribute value.

### **5.2. Private System Attributes (`PRV_SYS_*`)**

These attributes are defined within FreeMarker comments using the format `<#-- ${VAR_NAME|value|description} -->`. They control low-level generation behavior.

  * **`PRV_SYS_GEN_TYPE`**: (String, default `copy`) Defines how a file/folder is generated:
      * `'one'`: Single file generation.
      * `'many'`: Multiple file generation (per entity/field).
      * `'copy'`: Direct copy without FreeMarker evaluation.
  * **`PRV_SYS_GEN_PATH`**: (String, default root directory) Relative path for generated output.
  * **`PRV_SYS_GEN_FILENAME`**: (String, default template name) Custom output file name (strips `.ftl`).
  * **`PRV_SYS_IS_REPLACE`**: (Boolean, default `false`) `true` to overwrite existing files, `false` to create unique names.
  * **`PRV_SYS_JAVA_PACKAGE`**: (String) Defines the Java package and influences directory structure.

#### **Placeholders (for `PRV_SYS_GEN_PATH`, `PRV_SYS_GEN_FILENAME`, `PRV_SYS_JAVA_PACKAGE`):**

  * `[class]`: Replaced by the class name.
  * `[table]`: Replaced by the table name.
  * `[instance]`: Replaced by the instance name.
  * `[base]`: Replaced by the the base name.

#### **Rules for `PRV_SYS_GEN_TYPE = 'copy'`:**

  * Files and folders are copied as-is (content and name unchanged).
  * Always overwrites existing files/folders.
  * Only `PRV_SYS_GEN_TYPE` and `PRV_SYS_GEN_PATH` apply.
  * **No FreeMarker directives, functions, or macros are evaluated; they render as raw text.**

#### **Rules for `PRV_SYS_GEN_TYPE = 'one'`:**

  * Applies only to files. Folders are always copied.
  * `.ftl` extension is stripped from output file name.
  * All `PRV_SYS_*` variables are substituted.
  * All FreeMarker directives, macros, and attribute placeholders are evaluated.

#### **Rules for `PRV_SYS_GEN_TYPE = 'many'`:**

  * Applies only to files. Folders are always copied directly.
  * `.ftl` extension is stripped from filenames.
  * If no values are set for system attributes, defaults are applied.
  * All FreeMarker directives, macros, and attribute placeholders are evaluated.

#### **Final Generated Path Pattern (conceptual):**

`[Root Directory Deployment] + [PRV_SYS_GEN_PATH] + [PRV_SYS_JAVA_PACKAGE] + [PRV_SYS_GEN_FILENAME]`

-----

## **6. Public System Data Type Mapping (`PUB_SYS_DTM`)**

This system allows customizing how database types are mapped to programming language types (e.g., Java).

### **6.1. Core Mapping Rule:**

  * Default mappings exist (e.g., `integer` to `Integer`).
  * Can be customized via a field editor.
  * Can be overridden using the `Public System Data Type Mapping` logic block in templates.

### **6.2. Mapping Syntax:**

```freemarker
${PUB_SYS_DTM@<DB_DT_TYPE>|<PL_DT_TYPE>|<Description>}
```

  * **`DB_DT_TYPE`**: The source database data type (e.g., `integer`, `text`).
  * **`PL_DT_TYPE`**: The target programming language data type (e.g., `Integer`, `String`).
  * **`PUB_SYS_DTM`**: A special marker indicating a public data type mapping rule.

### **6.3. Condition for Application:**

  * This mapping is applied only when `PRV_SYS_GEN_TYPE` is set to `'one'` or `'many'`.

### **6.4. Example Mappings (Postgres to Java):**

| **Postgres Type** | **Java Type(s)** |
| :----------------- | :--------------------------- |
| `integer`          | `int`, `Integer`             |
| `bigint`           | `long`, `Long`               |
| `decimal`          | `BigDecimal`                 |
| `text` / `varchar` | `String`                     |
| `date`             | `java.sql.Date`, `LocalDate` |
| `timestamp`        | `LocalDateTime`, `Timestamp` |
| `boolean`          | `boolean`, `Boolean`         |
| `uuid`             | `java.util.UUID`             |
| `json`, `jsonb`    | `String`                     |
| `bytea`            | `byte[]`                     |
| `enum`             | `String`                     |

-----

## **7. Public Attributes (`PUB_`)**

These are dynamic inputs and configuration settings that can be customized per project or environment.

### **7.1. Public Attributes List:**

  * **`PUB_DB_TYPE`**: (String) Database type (e.g., `postgresql`, `oracle`).
  * **`PUB_APP_IP`**: (String) Application server IP address.
  * **`PUB_DB_IP`**: (String) Database server IP address.
  * **`PUB_DB_PORT`**: (String) Database port number.
  * **`PUB_DB_USER`**: (String) Database username.
  * **`PUB_DB_NAME`**: (String) Database name.
  * **`PUB_DB_PASS`**: (String) Database password.
  * **`PUB_APP_PKG`**: (String) Application package or module name.

### **7.2. Public Attribute Rules:**

1.  **Pattern**: Defined using the format `${PUB_XXXXX|VALUE|Description}` in template comments.
      * `XXXXX` can be freely customized (must start with `PUB_`).
      * `VALUE` is the default value.
      * `Description` is optional documentation.
2.  **Multiple Template Support**: The same public attribute can appear in multiple templates. The final value is taken from the most recently updated template.
3.  **Override Behavior**: Public attribute values can be centrally updated in a master attribute table, which takes precedence over individual template values.

-----

This comprehensive prompt ensures that any AI model can reliably understand the structure, types, and purpose of all attributes across your FreeMarker data models.

-----

Do you have a specific task in mind for the AI using this data, or would you like to explore how it can interpret specific scenarios?
```


## AI Prompt Generated By ChatGPT
```
Here is a reusable and comprehensive AI prompt that you can use with ChatGPT, DeepSeek, Copilot, Gemini, or any other AI assistant to generate FreeMarker templates accurately. This includes full attribute listings and behavior descriptions so the AI never loses track of the data model context.

---

### ✅ **Reusable AI Prompt for FreeMarker Template Generation**

> You are generating FreeMarker (`.ftl`) templates using a structured and feature-rich data model. The data model includes multiple Java objects passed into FreeMarker, such as `dbs`, `adv`, `entities`, and system variables (`PRV_`, `PUB_`). Below is the full structure and semantics of each object. Your task is to use this model accurately to generate `.ftl` content for code (Java, SQL, configuration files, etc.) or documentation based on FreeMarker syntax.

---

### 🔷 **Top-Level Objects in Data Model**

#### 1. ✅ `dbs` Object (Database Metadata Configuration)

**Iterable Lists:**

* `dbs.catalogs` (list of catalog strings)
* `dbs.schemas` (list of schema strings)
* `dbs.tableTypes`, `dbs.tableTypesList` (list of table types)

**Simple Fields:**

* `catalog`, `create`, `driverClassName`, `driverFile`, `name`, `password`
* `profileName`, `schema`, `tablePattern`, `tableType`, `url`, `user`

**Setters (allowed in templates):**

```ftl
${dbs.setCatalog('catalog')}
${dbs.setCreate(true)}
...
```

---

#### 2. ✅ `adv` Object (Advanced Generation Settings)

**Read-only attributes:**

* `${adv.buildDate?datetime}`, `${adv.comment}`
* `${adv.generation.create?c}`, `${adv.generation.outputDir}`, `${adv.generation.packageName}`, `${adv.generation.rootDir}`
* `${adv.generation.superClassName}`, `${adv.generation.templateDir}`, `${adv.generation.specifyTemplateDir?c}`

**Setters (not recommended in FTL, but possible):**

```ftl
${adv.setComment('...')}
${adv.generation.setRootDir('...')}
```

---

#### 3. ✅ `adv.entities` (List of `Entity` Objects)

Each item is an `Entity` object with:

**Scalar Fields:**

* `baseName`, `className`, `instanceName`, `tableName`, `remarks`,  `toStringStatement`, `Test`
* `create`, `selected`, `allFieldSelection`, `emptyBaseName`, `emptyTableName`, `haveSpaceTableName`, `reservedWordBaseName`, `validPatternBaseName`
* `hasAttachFileField`, `hasDuplicateFieldName`, `hasLob`

**Nested Lists:**

1. **exportedKeys, importedKeys** (List of foreign key relationships)

   * Attributes: `pkTableName`, `pkBaseName`, `pkColumnName`, `fkTableName`, `fkBaseName`, `fkColumnName`, `fkSequence`, `updateRule`, `deleteRule`, `fkName`, `pkName`, `create`, `exported`, `selected`

2. **fieldList, attachFileFieldList, fieldListExceptLob, fieldListExceptForeignKey, fieldListSortByOrdinalPosition, primaryKeyFieldList, toStringFieldList** (List of `Field` objects)

**Each `Field` has:**

* `fieldName`, `firstCapFieldName`, `getterMethodName`, `setterMethodName`
* `fieldType`, `simpleFieldType`, `simpleObjectClassName`, `primitiveType`
* `columnName`, `columnType`, `columnSize`, `columnDataType`, `remarks`, `nullValue`
* `create`, `nullable`, `unique`, `lob`, `autoincrement`, `pkPosition`, `ordinalPosition`, `attachFileType`
* `emptyColumnName`, `emptyColumnType`, `emptyFieldName`, `emptyFieldType`
* `haveSpaceColumnName`, `haveSpaceColumnType`, `hasNullValue`, `reservedFieldName`
* `validColumnSize`, `validFieldType`, `validNullable`, `validPatternFieldName`, `validPatternFieldType`
* `toPrimitiveMethod` (e.g., `.intValue()`)

3. **importClassNameList, importDeclarations** (List of strings for Java imports)

---

#### 4. ✅ `adv.draftTemplate` & `adv.draftTemplateKeyValue`

* `adv.draftTemplate`: fields like `appDir`, `draftDir`, `create`
* `adv.draftTemplateKeyValue`: List of name/value pairs with booleans like `create`, `selected`

```ftl
<#list adv.draftTemplateKeyValue as k>
  ${k.name}, ${k.value}, ${k.create?c}
</#list>
```

---

#### 5. ✅ File Templates and Attributes

* `adv.fileTmplts` is a list of files. Each file object has:

  * `absolutePath`, `name`, `path`, `relativePath`, `generatedPath`, `generatedType`, `size`
  * `create`, `selected`, `allFileAttrSelected`
  * `fileAttrList`: list of attributes with `name`, `value`, `no`, `desc`, `create`, `selected`

* `adv.fileDefaultAttrs` and `adv.filePublicAttrs`: Maps of default and public attributes.

---

### 🔒 **Private System Attributes (Prefixed with `PRV_`)**

Used in FTL comments like:

```ftl
<#-- ${PRV_SYS_GEN_TYPE|one|How to generate: one, many, or copy} -->
<#-- ${PRV_SYS_GEN_PATH|/service/api|Relative path for generated file} -->
```

| Name                   | Purpose                                               | Default       |
| ---------------------- | ----------------------------------------------------- | ------------- |
| `PRV_SYS_GEN_TYPE`     | File generation type: `one`, `many`, or `copy`        | `copy`        |
| `PRV_SYS_GEN_PATH`     | Relative output path from root                        | `/`           |
| `PRV_SYS_GEN_FILENAME` | Override output filename (removes `.ftl`)             | Template name |
| `PRV_SYS_IS_REPLACE`   | If `true`, overwrite files; if `false`, append suffix | `false`       |
| `PRV_SYS_JAVA_PACKAGE` | Auto-package path (e.g., for Java classes)            | —             |

---

### 🌐 **Public System Attributes (Prefixed with `PUB_`)**

Used globally across templates with a format:

```ftl
${PUB_DB_TYPE|postgresql|Database type}
```

Examples:

* `PUB_DB_TYPE`, `PUB_DB_PORT`, `PUB_DB_USER`, `PUB_DB_PASS`, `PUB_DB_NAME`
* `PUB_APP_IP`, `PUB_APP_PKG`, etc.

---

### 🧠 **Custom Type Mapping Syntax (Public Data Type Map)**

Used to override DB type → Java type mapping:

```ftl
${PUB_SYS_DTM@integer|Integer|Postgres integer to Java Integer}
```

Only applied when `${PRV_SYS_GEN_TYPE}` is `'one'` or `'many'`.

---

### 📦 **How to Use This Prompt with AI**

Use this full prompt block when talking to an AI and include a specific task like:

> "Using the FreeMarker model described above, generate a `UserService.java` file using `adv.entities` where `tableName == 'Users'`. Include all fields in `fieldListExceptLob`. Use `${PUB_APP_PKG}` for the package name."

Or:

> "Generate a `.sql` file with `CREATE TABLE` script for each `adv.entities`, iterating `fieldList` and mapping column types using `${PUB_SYS_DTM@...}` rules."

---

Let me know if you'd like this exported as a `.md`, `.txt`, or `.json` snippet.

```

## AI Prompt Generated By DeepSeek
```
Here's a comprehensive AI prompt that exhaustively lists all FreeMarker data model attributes and rules for reliable reuse:

---

### **FreeMarker Data Model Master Prompt**
**Copy-paste this entire prompt when generating templates. Contains ALL attributes and rules.**

#### **1. Database Configuration (`dbs`)**
```markdown
## COLLECTIONS (Use <#list>)
- catalogs[]       # List of database catalogs
- schemas[]        # List of database schemas
- tableTypes[]     # List of table types
- tableTypesList[] # Alternate list of table types

## PROPERTIES (Access with ${})
- catalog
- create?c         # Boolean (true/false string)
- driverClassName
- driverFile
- name
- password
- profileName
- schema
- tablePattern
- tableType
- url
- user

## SETTERS (Use with caution)
- setCatalog()
- setCreate()
- setName()
- setPassword()
- setProfileName()
- setSchema()
- setTablePattern()
- setTableType()
```

#### **2. Advanced Configuration (`adv`)**
```markdown
## TOP-LEVEL PROPERTIES
- buildDate?datetime
- comment

## NESTED OBJECTS
- generation: {
    create?c,
    outputDir?has_content?c,  # Boolean check
    packageName?has_content?c, # Boolean check
    rootDir,
    specifyTemplateDir?c,
    superClassName?has_content?c, # Boolean check
    templateDir
  }
- draftTemplate: {
    appDir!'',    # Null-safe
    create?c,
    draftDir!''
  }

## LISTS
- draftTemplateKeyValue[]: {
    create?c,
    name,
    no,
    selected?c,
    value
  }
- entities[]: { (See full entity breakdown below) }
- fileDefaultAttrs{} # Map: <#list as k,v>
- filePublicAttrs{}  # Map: <#list as k,v>
- fileTmplts[]: {
    absolutePath,
    allFileAttrSelected?c,
    create?c,
    generatedPath,
    generatedType,
    name,
    path,
    relativePath,
    selected?c,
    size,
    # Nested:
    fileAttrList[]: {
        allFileAttrSelected?c,
        create?c,
        desc,
        name,
        no,
        value
    }
  }
```

#### **3. Entity Structure (`adv.entities[]`)**
```markdown
## ENTITY ATTRIBUTES
baseName, className, 
create?c, selected?c, allFieldSelection?c, emptyBaseName?c, 
emptyTableName?c, haveSpaceTableName?c, instanceName, 
remarks, reservedWordBaseName?c, tableName, 
validPatternBaseName?c, hasAttachFileField?c, 
hasDuplicateFieldName?c, hasLob?c, toStringStatement, 
Test # From getTest()

## RELATIONSHIPS
- exportedKeys[]: {
    pkTableName, pkBaseName, pkColumnName, 
    fkTableName, fkBaseName, fkColumnName, 
    fkSequence, updateRule, deleteRule, 
    fkName, pkName, create?c, exported?c, selected?c
  }
- importedKeys[]: { (Same structure as exportedKeys) }

## FIELD LISTS (All share same attributes)
- fieldList[]                # All fields
- attachFileFieldList[]       # File attachment fields
- fieldListExceptLob[]        # Excluding LOBs
- primaryKeyFieldList[]       # Only PK fields
- fieldListExceptForeignKey[] # Excluding FKs
- toStringFieldList[]         # For toString()
- fieldListSortByOrdinalPosition[] # Sorted

## FIELD ATTRIBUTES (Apply to all field lists)
create?c, lob?c, nullable?c, pkPosition, 
fieldType, fieldName, columnSize, columnType, 
columnName, remarks, autoincrement?c, ordinalPosition, 
columnDataType, attachFileType?c, emptyColumnName?c, 
emptyColumnType?c, emptyFieldName?c, emptyFieldType?c, 
firstCapFieldName, getterMethodName, haveSpaceColumnName?c, 
haveSpaceColumnType?c, hasNullValue?c, nullValue, 
primitiveType?c, reservedFieldName?c, setterMethodName, 
simpleFieldType, simpleObjectClassName, toPrimitiveMethod, 
unique?c, validColumnSize?c, validFieldType?c, 
validNullable?c, validPatternFieldName?c, validPatternFieldType?c

## MISC LISTS
- importClassNameList[]  # Class names
- importDeclarations[]   # Import statements
```

#### **4. Generation Control System**
```markdown
## PRIVATE ATTRIBUTES (Format: <#-- ${VAR|value|desc} -->)
- PRV_SYS_GEN_TYPE   # one/many/copy (Default: copy)
- PRV_SYS_GEN_PATH   # Supports [class], [table], [instance], [base]
- PRV_SYS_GEN_FILENAME
- PRV_SYS_IS_REPLACE?c # true/false (Default: false)
- PRV_SYS_JAVA_PACKAGE

## PUBLIC ATTRIBUTES
- ${PUB_SYS_DTM@<db_type>|<lang_type>|desc}  # Type mapping
- ${PUB_DB_TYPE}     # e.g., postgresql/oracle
- ${PUB_APP_IP}, ${PUB_DB_IP}
- ${PUB_DB_PORT}, ${PUB_DB_USER}
- ${PUB_DB_NAME}, ${PUB_DB_PASS}
- ${PUB_APP_PKG}     # Application package

## RULES
1. PRV_SYS_GEN_TYPE BEHAVIOR:
   - `copy`: Raw file copy (no processing)
   - `one`/`many`: Process templates & strip .ftl
   - Folders always copied recursively

2. PATH RESOLUTION:
   [Root] + PRV_SYS_GEN_PATH + PRV_SYS_JAVA_PACKAGE + PRV_SYS_GEN_FILENAME

3. ATTRIBUTE PRECEDENCE:
   - Private: Central override table > File definition
   - Public: Last template update wins
```

#### **5. Critical Syntax & Best Practices**
```markdown
## SAFETY MECHANISMS
- Null handling: ${var!''}        # Empty default
- Boolean handling: ${var?c}      # → "true"/"false"
- Content check: ${var?has_content?c}

## DEPRECATED
- ⚠️ Avoid Java setters: ${obj.setX()} 
- ⚠️ Never modify objects in templates

## PLACEHOLDERS
- [class], [table], [instance], [base] 
  # Resolved during generation

## TYPE MAPPING EXAMPLES
${PUB_SYS_DTM@integer|int|Numeric}
${PUB_SYS_DTM@timestamp|LocalDateTime|Date}
```

---

### **Usage Instructions for AI**
1. **When generating any FreeMarker template:**
   - Start with this full prompt
   - Cross-reference sections as needed

2. **For database templates:**
   - Use `dbs` properties + `adv.entities[]`

3. **For file generation:**
   - Check `PRV_SYS_GEN_TYPE` first
   - Apply path resolution rules

4. **For Java class generation:**
   - Use `adv.entities[].fieldList[]` with `${PUB_SYS_DTM...}` mappings

5. **Always:**
   - Implement null-safety (`!''`)
   - Convert booleans (`?c`)
   - Respect attribute precedence rules

> **Example trigger:**  
> "Generate Spring entity class using `adv.entities[0]` with PostgreSQL→Java type mapping. PRV_SYS_GEN_TYPE=one, package=com.example. PRV_SYS_GEN_PATH=src/main/java/"

This prompt contains every documented attribute, list, and rule from your FreeMarker implementation. Maintain it as a single reference to ensure consistent AI output.
```

## AI Prompt Generated By claude.ai
```
# FreeMarker Code Generation AI Prompt

## Context
You are an AI assistant that generates FreeMarker (`.ftl`) templates for database-driven code generation. Use this comprehensive data model reference to create templates that access database metadata, entity information, and configuration settings.

## Core Data Model Objects

### 1. Database Connection Object (`dbs`)

**Single Properties (Direct Access):**
- `${dbs.catalog}` - Database catalog name
- `${dbs.create?c}` - Boolean flag for creation (use `?c` for boolean conversion)
- `${dbs.driverClassName}` - JDBC driver class name
- `${dbs.driverFile}` - Driver file path
- `${dbs.name}` - Database connection name
- `${dbs.password}` - Database password
- `${dbs.profileName}` - Connection profile name
- `${dbs.schema}` - Database schema name
- `${dbs.tablePattern}` - Table name pattern filter
- `${dbs.tableType}` - Table type filter
- `${dbs.url}` - Database connection URL
- `${dbs.user}` - Database username

**Iterable Collections:**
- `${dbs.catalogs}` - List of available catalogs
- `${dbs.schemas}` - List of available schemas
- `${dbs.tableTypes}` - List of table types
- `${dbs.tableTypesList}` - Alternative table types list

**Setter Methods (for template-level overrides):**
- `${dbs.setCatalog('catalog_name')}`
- `${dbs.setCreate(true)}`
- `${dbs.setName('connection_name')}`
- `${dbs.setPassword('password')}`
- `${dbs.setProfileName('profile_name')}`
- `${dbs.setSchema('schema_name')}`
- `${dbs.setTablePattern('pattern')}`
- `${dbs.setTableType('type')}`

### 2. Advanced Configuration Object (`adv`)

**Build Information:**
- `${adv.buildDate?datetime}` - Build timestamp
- `${adv.comment}` - Build comment
- `${adv.setBuildDate(.now)}` - Set build date to current time
- `${adv.setComment('comment_text')}` - Set build comment

**Generation Settings (`adv.generation`):**
- `${adv.generation.create?c}` - Enable/disable generation
- `${adv.generation.outputDir}` - Output directory path
- `${adv.generation.outputDir?has_content?c}` - Check if output dir is set
- `${adv.generation.packageName}` - Java package name
- `${adv.generation.packageName?has_content?c}` - Check if package name is set
- `${adv.generation.rootDir}` - Root directory path
- `${adv.generation.specifyTemplateDir?c}` - Use custom template directory
- `${adv.generation.superClassName}` - Base class name for generated classes
- `${adv.generation.superClassName?has_content?c}` - Check if super class is set
- `${adv.generation.templateDir}` - Template directory path

**Setter Methods:**
- `${adv.generation.setCreate(true)}`
- `${adv.generation.setOutputDir('output_path')}`
- `${adv.generation.setPackageName('com.example.package')}`
- `${adv.generation.setRootDir('root_path')}`
- `${adv.generation.setSpecifyTemplateDir(true)}`
- `${adv.generation.setSuperClassName('BaseClass')}`
- `${adv.generation.setTemplateDir('template_path')}`

**Draft Templates (`adv.draftTemplate`):**
- `${adv.draftTemplate.appDir!''}` - Application directory (default to empty string)
- `${adv.draftTemplate.create?c}` - Enable draft template creation
- `${adv.draftTemplate.draftDir!''}` - Draft directory path
- `${adv.draftTemplate.setAppDir('app_directory')}`
- `${adv.draftTemplate.setCreate(true)}`
- `${adv.draftTemplate.setDraftDir('draft_directory')}`

**Draft Template Key-Value Pairs:**
```freemarker
<#list adv.draftTemplateKeyValue as dtkv>
  ${dtkv.create?c} - Creation flag
  ${dtkv.name} - Key-value pair name
  ${dtkv.no} - Sequence number
  ${dtkv.selected?c} - Selection flag
  ${dtkv.value} - Key-value pair value
</#list>
```

### 3. Entity Data Model (`adv.entities`)

**Entity Object Properties:**
```freemarker
<#list adv.entities as entity>
  ${entity.baseName} - Base entity name
  ${entity.className} - Java class name
  ${entity.tableName} - Database table name
  ${entity.instanceName} - Instance variable name
  ${entity.remarks!'null'} - Entity comments (default 'null')
  ${entity.toStringStatement} - toString() method code
 
  
  <!-- Boolean Properties -->
  ${entity.allFieldSelection?c} - All fields selected flag
  ${entity.create?c} - Entity creation flag
  ${entity.selected?c} - Entity selection flag
  ${entity.emptyBaseName?c} - Empty base name check
  ${entity.emptyTableName?c} - Empty table name check
  ${entity.haveSpaceTableName?c} - Table name contains spaces
  ${entity.reservedWordBaseName?c} - Base name is reserved word
  ${entity.validPatternBaseName?c} - Base name follows valid pattern
  ${entity.hasAttachFileField?c} - Has attachment file fields
  ${entity.hasDuplicateFieldName?c} - Has duplicate field names
  ${entity.hasLob?c} - Has Large Object fields
</#list>
```

**Entity Field Lists:**
```freemarker
<#list adv.entities as entity>
  <!-- All Fields -->
  <#list entity.fieldList as field>
    ${field.fieldName} - Java field name
    ${field.fieldType} - Java field type
    ${field.columnName} - Database column name
    ${field.columnType} - Database column type
    <!-- ... (see Field Object Properties below) -->
  </#list>
  
  <!-- Primary Key Fields Only -->
  <#list entity.primaryKeyFieldList as field>
    <!-- Same field properties as above -->
  </#list>
  
  <!-- Fields Excluding LOB Types -->
  <#list entity.fieldListExceptLob as field>
    <!-- Same field properties as above -->
  </#list>
  
  <!-- Fields Excluding Foreign Keys -->
  <#list entity.fieldListExceptForeignKey as field>
    <!-- Same field properties as above -->
  </#list>
  
  <!-- Fields Sorted by Database Position -->
  <#list entity.fieldListSortByOrdinalPosition as field>
    <!-- Same field properties as above -->
  </#list>
  
  <!-- Attachment File Fields -->
  <#list entity.attachFileFieldList as field>
    <!-- Same field properties as above -->
  </#list>
  
  <!-- toString() Method Fields -->
  <#list entity.toStringFieldList as field>
    <!-- Same field properties as above -->
  </#list>
</#list>
```

**Field Object Properties:**
```freemarker
<#list entity.fieldList as field>
  <!-- Core Properties -->
  ${field.fieldName} - Java field name (camelCase)
  ${field.fieldType} - Java field type
  ${field.columnName} - Database column name
  ${field.columnType} - Database column type
  ${field.columnSize} - Column size/length
  ${field.columnDataType} - SQL data type code
  ${field.ordinalPosition} - Column position in table
  ${field.pkPosition} - Primary key position (if applicable)
  ${field.remarks!'null'} - Field comments (default 'null')
  ${field.nullValue!'null'} - Null value representation (default 'null')
  
  <!-- Type Information -->
  ${field.simpleFieldType} - Simple Java type (without package)
  ${field.simpleObjectClassName} - Simple object class name
  ${field.firstCapFieldName} - Field name with first letter capitalized
  ${field.getterMethodName} - Getter method name
  ${field.setterMethodName} - Setter method name
  ${field.toPrimitiveMethod!'null'} - Primitive conversion method (default 'null')
  
  <!-- Boolean Properties -->
  ${field.create?c} - Field creation flag
  ${field.lob?c} - Large Object field
  ${field.nullable?c} - Nullable field
  ${field.autoincrement?c} - Auto-increment field
  ${field.attachFileType?c} - Attachment file type
  ${field.primitiveType?c} - Primitive Java type
  ${field.unique?c} - Unique constraint
  ${field.hasNullValue?c} - Can have null values
  ${field.emptyColumnName?c} - Empty column name check
  ${field.emptyColumnType?c} - Empty column type check
  ${field.emptyFieldName?c} - Empty field name check
  ${field.emptyFieldType?c} - Empty field type check
  ${field.haveSpaceColumnName?c} - Column name contains spaces
  ${field.haveSpaceColumnType?c} - Column type contains spaces
  ${field.reservedFieldName?c} - Field name is reserved word
  ${field.validColumnSize?c} - Valid column size
  ${field.validFieldType?c} - Valid field type
  ${field.validNullable?c} - Valid nullable attribute
  ${field.validPatternFieldName?c} - Field name follows valid pattern
  ${field.validPatternFieldType?c} - Field type follows valid pattern
</#list>
```

**Foreign Key Relationships:**
```freemarker
<#list entity.exportedKeys as exportedKey>
  ${exportedKey.pkTableName} - Primary key table name
  ${exportedKey.pkBaseName} - Primary key base name
  ${exportedKey.pkColumnName} - Primary key column name
  ${exportedKey.fkTableName} - Foreign key table name
  ${exportedKey.fkBaseName} - Foreign key base name
  ${exportedKey.fkColumnName} - Foreign key column name
  ${exportedKey.fkSequence} - Foreign key sequence
  ${exportedKey.updateRule} - Update rule
  ${exportedKey.deleteRule} - Delete rule
  ${exportedKey.fkName} - Foreign key name
  ${exportedKey.pkName} - Primary key name
  ${exportedKey.create?c} - Creation flag
  ${exportedKey.exported?c} - Exported flag (default false)
  ${exportedKey.selected?c} - Selection flag (default false)
</#list>

<#list entity.importedKeys as importedKey>
  <!-- Same properties as exportedKeys -->
</#list>
```

**Import Statements:**
```freemarker
<#list entity.importClassNameList as className>
  ${className} - Class name to import
</#list>

<#list entity.importDeclarations as declaration>
  ${declaration} - Complete import declaration
</#list>
```

### 4. File Templates (`adv.fileTmplts`)

```freemarker
<#list adv.fileTmplts as fileTemplate>
  ${fileTemplate.name} - Template name
  ${fileTemplate.path} - Template path
  ${fileTemplate.relativePath} - Relative path
  ${fileTemplate.absolutePath} - Absolute path
  ${fileTemplate.generatedPath} - Generated output path
  ${fileTemplate.generatedType} - Generation type
  ${fileTemplate.size} - File size
  ${fileTemplate.allFileAttrSelected?c} - All attributes selected
  ${fileTemplate.create?c} - Creation flag
  ${fileTemplate.selected?c} - Selection flag
  
  <!-- File Attributes -->
  <#list fileTemplate.fileAttrList as attr>
    ${attr.name} - Attribute name
    ${attr.value} - Attribute value
    ${attr.desc} - Attribute description
    ${attr.no} - Attribute number
    ${attr.allFileAttrSelected?c} - All attributes selected
    ${attr.create?c} - Creation flag
  </#list>
</#list>
```

### 5. Configuration Maps

**File Default Attributes:**
```freemarker
<#list adv.fileDefaultAttrs as key, value>
  ${key} - Attribute name
  ${value} - Attribute value
</#list>
```

**File Public Attributes:**
```freemarker
<#list adv.filePublicAttrs as key, value>
  ${key} - Attribute name
  ${value} - Attribute value
</#list>
```

## Private System Attributes

Use these attributes to control file generation behavior:

### Core Private Attributes:
- `${PRV_SYS_GEN_TYPE|value|description}` - Generation type: `one`, `many`, or `copy`
- `${PRV_SYS_GEN_PATH|value|description}` - Output path with placeholders
- `${PRV_SYS_GEN_FILENAME|value|description}` - Custom filename
- `${PRV_SYS_IS_REPLACE|value|description}` - Replace existing files (true/false)
- `${PRV_SYS_JAVA_PACKAGE|value|description}` - Java package structure

### Path Placeholders:
- `[class]` - Replaced with class name
- `[table]` - Replaced with table name
- `[instance]` - Replaced with instance name
- `[base]` - Replaced with base name

### Generation Types:
- `one` - Generate single file, evaluate FreeMarker expressions
- `many` - Generate multiple files (one per entity), evaluate FreeMarker expressions
- `copy` - Copy as-is, no FreeMarker evaluation

## Public System Attributes

Common public attributes for database connections and environment settings:

### Database Configuration:
- `${PUB_DB_TYPE|postgresql|Database type}` - Database type
- `${PUB_DB_IP|localhost|Database IP address}` - Database host
- `${PUB_DB_PORT|5432|Database port}` - Database port
- `${PUB_DB_USER|admin|Database username}` - Database user
- `${PUB_DB_NAME|mydb|Database name}` - Database name
- `${PUB_DB_PASS|password|Database password}` - Database password

### Application Configuration:
- `${PUB_APP_IP|localhost|Application IP}` - Application server IP
- `${PUB_APP_PKG|com.example|Application package}` - Base package name

## Data Type Mapping

For PostgreSQL to Java type mapping, use:
```freemarker
${PUB_SYS_DTM@integer|Integer|Integer type mapping}
${PUB_SYS_DTM@text|String|String type mapping}
${PUB_SYS_DTM@boolean|Boolean|Boolean type mapping}
${PUB_SYS_DTM@timestamp|LocalDateTime|DateTime type mapping}
${PUB_SYS_DTM@decimal|BigDecimal|BigDecimal type mapping}
${PUB_SYS_DTM@bigint|Long|Long type mapping}
${PUB_SYS_DTM@date|LocalDate|LocalDate type mapping}
${PUB_SYS_DTM@uuid|UUID|UUID type mapping}
${PUB_SYS_DTM@json|String|JSON type mapping}
${PUB_SYS_DTM@bytea|byte[]|Binary type mapping}
```

## Common FreeMarker Patterns

### Boolean Conversion:
```freemarker
${variable?c} <!-- Converts boolean to "true"/"false" string -->
```

### Null Safety:
```freemarker
${variable!'default_value'} <!-- Use default if null -->
${variable?has_content?c} <!-- Check if variable has content -->
```

### List Iteration:
```freemarker
<#list collection as item>
  ${item_index} - ${item.property}
</#list>
```

### Conditional Logic:
```freemarker
<#if condition>
  <!-- content -->
<#elseif other_condition>
  <!-- other content -->
<#else>
  <!-- default content -->
</#if>
```

## Template Structure Example

```freemarker
<#-- 
${PRV_SYS_GEN_TYPE|many|Generate one file per entity}
${PRV_SYS_GEN_PATH|src/main/java/[class]|Output path pattern}
${PRV_SYS_GEN_FILENAME|[class].java|Filename pattern}
${PRV_SYS_IS_REPLACE|true|Replace existing files}
${PRV_SYS_JAVA_PACKAGE|com.example.model|Java package}
-->

<#-- Public attributes -->
<#-- ${PUB_DB_TYPE|postgresql|Database type} -->
<#-- ${PUB_APP_PKG|com.example|Application package} -->

<#-- Template content -->
<#list adv.entities as entity>
package ${PUB_APP_PKG}.model;

<#list entity.importDeclarations as import>
${import}
</#list>

public class ${entity.className} {
    <#list entity.fieldList as field>
    private ${field.fieldType} ${field.fieldName};
    </#list>
    
    <#list entity.fieldList as field>
    public ${field.fieldType} ${field.getterMethodName}() {
        return ${field.fieldName};
    }
    
    public void ${field.setterMethodName}(${field.fieldType} ${field.fieldName}) {
        this.${field.fieldName} = ${field.fieldName};
    }
    </#list>
}
</#list>
```

## Instructions for AI:

1. **Always use proper FreeMarker syntax** with `<#list>`, `<#if>`, `${variable}` expressions
2. **Include private system attributes** in comments at the top of templates
3. **Use null-safe operators** (`!'default'`, `?has_content`) where appropriate
4. **Convert booleans to strings** using `?c` when needed
5. **Access nested objects** using dot notation (`entity.fieldList`, `field.fieldName`)
6. **Iterate through collections** using `<#list collection as item>`
7. **Use placeholders** in paths and filenames for dynamic generation
8. **Include public attributes** for configuration and environment settings
9. **Add data type mappings** when generating type-specific code
10. **Structure templates** with proper indentation and comments for readability

This data model provides comprehensive access to database metadata, entity relationships, field information, and configuration settings for generating database-driven applications.
```

## AI Prompt Generated By [perplexity.ai](https://www.perplexity.ai/)
```
Absolutely! Below is your **single reusable AI prompt**, meticulously compiled for consistent use with ChatGPT, DeepSeek, Copilot, Gemini, or any capable AI assistant. This prompt contains **everything an AI needs** to understand your **FreeMarker data model**—including all entities, attributes, rules, and usage patterns—so it can reliably generate `.ftl` templates with no context loss.

## ✅ Reusable AI Prompt for Generating FreeMarker Templates using Full Data Model

You are generating FreeMarker (`.ftl`) templates from a highly structured data model. The model includes configuration objects (`dbs`, `adv`), metadata for application generation, public/private parameters, database entity structures, and custom code generation rules. Below is the **full specification** of each object and attribute available during template rendering.

### 🔷 `dbs` Object – Database Metadata Configuration

#### 📚 Iterable Collections

Use in loops like ``:

- `dbs.catalogs` – List of catalogs  
- `dbs.schemas` – List of schemas  
- `dbs.tableTypes`, `dbs.tableTypesList` – Lists of supported DB table types  

#### 🧾 Scalar Properties (Readable using `${}`)

- `catalog`, `schema` – Current DB catalog/schema  
- `tableType`, `tablePattern` – Table filtering criteria  
- `name`, `profileName` – DB connection profile and user label  
- `url`, `driverClassName`, `driverFile` — JDBC connection & driver config  
- `user`, `password` – Credentials  
- `create` – Boolean: Should DB object be created  

#### 🛠️ Setters (Optional, override in template if needed)

```ftl
${dbs.setName("myDB")}
${dbs.setCatalog("main")}
${dbs.setCreate(true)}
```

### 🔷 `adv` Object – Application Generation Metadata

#### 📘 General Properties

- `${adv.comment}` – Optional comment  
- `${adv.buildDate?datetime}` – Date the build was triggered  

#### 📦 Nested: `adv.generation`

- `create` – Boolean (should generate?)  
- `outputDir`, `rootDir`, `templateDir` – Directories for output and templates  
- `packageName`, `superClassName` – Java package info  
- `specifyTemplateDir` – Boolean toggle

Setters are available but discouraged inside FTL:

```ftl
${adv.generation.setOutputDir("dist")}
${adv.generation.setPackageName("com.acme.model")}
```

### 🔷 `adv.draftTemplate` and `adv.draftTemplateKeyValue`

#### `adv.draftTemplate` Fields

- `appDir`, `draftDir` – Directory values  
- `create` – Boolean toggle  

#### 🔁 `adv.draftTemplateKeyValue` Fields

Each item contains:

- `name`, `value` – Key-value pair  
- `no` – ID or sequence number  
- `create`, `selected` – Boolean flags  

Usage:

```ftl

  ${pair.name} = ${pair.value}

```

### 🔷 `adv.entities` – List of Database Entity Definitions

Each item `i` is an `Entity` object representing a database table.

#### ⚙️ Top-Level Fields (Entity)

- `baseName`, `className`, `instanceName`  
- `tableName`, 
- `selected`, `create`, `toStringStatement`, `Test`  
- `emptyBaseName`, `emptyTableName`, `haveSpaceTableName`, `reservedWordBaseName`, `validPatternBaseName`  
- `allFieldSelection`, `hasAttachFileField`, `hasDuplicateFieldName`, `hasLob`  
- `remarks` – Description text (nullable)

#### 🔗 `exportedKeys` & `importedKeys`: Foreign Key Definitions

Each `key` object has:

- `pkTableName`, `pkBaseName`, `pkColumnName`  
- `fkTableName`, `fkBaseName`, `fkColumnName`  
- `fkSequence`, `updateRule`, `deleteRule`  
- `fkName`, `pkName`  
- `create`, `exported`, `selected`

#### 🧩 `fieldList` and Variants (`List`)

These lists all contain the same structure:

- `fieldList`, `attachFileFieldList`, `primaryKeyFieldList`  
- `fieldListExceptLob`, `fieldListExceptForeignKey`, `fieldListSortByOrdinalPosition`, `toStringFieldList`  

#### 🧬 Field Attributes

Each `Field` object `f` includes:

- `fieldName`, `fieldType`, `simpleFieldType`, `simpleObjectClassName`  
- `columnName`, `columnType`, `columnSize`, `columnDataType`  
- `nullable`, `autoincrement`, `lob`, `pkPosition`, `ordinalPosition`  
- `remarks`, `nullValue`, `primitiveType`, `unique`  
- `getterMethodName`, `setterMethodName`, `firstCapFieldName`, `attachFileType`  
- `validFieldType`, `validColumnSize`, `validPatternFieldName`, `reservedFieldName`  

Boolean flags:

- `create`, `emptyColumnName`, `emptyFieldType`, `haveSpaceColumnName`, `hasNullValue`, `validNullable`

### 🔷 `adv.fileTmplts`, `filePublicAttrs`, `fileDefaultAttrs`

#### 🗂 `adv.fileTmplts` – Template File Metadata (`List`)

Each file template object `k` contains:

- `absolutePath`, `relativePath`, `generatedPath`  
- `create`, `selected`, `allFileAttrSelected`  
- `name`, `path`, `generatedType`, `size`

Nested: `k.fileAttrList` is a list with:

- `name`, `value`, `desc`, `no`, `create`, `allFileAttrSelected`

#### 🧾 `adv.fileDefaultAttrs` and `adv.filePublicAttrs`

Key-value maps of attributes defined per file template:

```ftl

  ${k} → ${v}

```

### 🔷 Private System Attributes – `${PRV_SYS_...}`

Defined in template comments like:

```freemarker

```

These control file/folder generation behavior.

| Variable               | Description                                                             |
|------------------------|-------------------------------------------------------------------------|
| `PRV_SYS_GEN_TYPE`     | Generation mode: `one`, `many`, `copy`                                  |
| `PRV_SYS_GEN_PATH`     | Relative output path (e.g., `/model`)                                   |
| `PRV_SYS_GEN_FILENAME` | Custom output file name                                                 |
| `PRV_SYS_IS_REPLACE`   | `true` = overwrite output; `false` = append suffix                      |
| `PRV_SYS_JAVA_PACKAGE` | Used to format Java package / folder structure automatically            |

📛 **Placeholders Supported in Paths or Filenames:**

- `[class]`, `[table]`, `[instance]`, `[base]`

### 🔷 Public System Attributes – `${PUB_...}`

Dynamic variables passed from environment:

| Variable        | Description                     |
|------------------|---------------------------------|
| `PUB_DB_TYPE`    | Database type (e.g., `postgresql`)  
| `PUB_APP_PKG`    | App base package  
| `PUB_DB_PORT`    | Port  
| `PUB_DB_USER`/`PASS`/`NAME`/`IP` – Auth credentials and connection info  
| `PUB_APP_IP`     | App/server-side IP address  

Defined with:

```freemarker

```

### 🔷 Public Type Mapping (DataType Mapping Override)

Use `${PUB_SYS_DTM@dbDataType|javaType|description}`

Only applies if `${PRV_SYS_GEN_TYPE}` is `one` or `many`.

| DB Type        | Java Types                    |
|----------------|-------------------------------|
| `integer`      | `int`, `Integer`  
| `text`, `varchar` | `String`  
| `bigint`       | `long`, `Long`  
| `jsonb`, `json`   | `String`  
| `timestamp`    | `LocalDateTime`, `Timestamp`  
| `boolean`      | `boolean`, `Boolean`  
| `uuid`         | `UUID`  
| `bytea`        | `byte[]`  

### 🧠 Template Syntax Notes for Rendering

- `${boolean?c}` → Converts Boolean to string `"true"/"false"`  
- `${nullable!''}` → Null-safe fallbacks  
- Loops: ``  
- Comments: ``  
- Use field filters, like `${fieldListExceptLob}`, when skipping `LOB` fields.

### 💬 Usage Prompt Example

> Generate a FreeMarker `.ftl` template that outputs a Java `@Entity` class from each object in `adv.entities`. Use `fieldListSortByOrdinalPosition`, generate `getter/setter` methods, include proper imports, and skip LOB fields. Place output in `/model` using `PRV_SYS_GEN_TYPE = many`.

✅ Use this persistent prompt for any AI-powered coding assistant and it will have a full structural understanding of your FreeMarker data model for repeatable, lossless, consistent `.ftl` template generation.
```

## AI Prompt Generated By https://grok.com/
```
Below is a comprehensive AI prompt designed to encapsulate all the details from the provided FreeMarker data model and usage context. This prompt is structured to be reusable across multiple AI platforms (e.g., ChatGPT, DeepSeek, Copilot, Gemini) for generating FreeMarker `.ftl` template files. It includes all attributes, nested structures, rules, and logic to ensure the AI understands the full context without losing any information. The prompt is concise yet detailed, avoiding redundancy while covering all necessary aspects of the data model.

---

### AI Prompt for Generating FreeMarker Template Files

**Prompt:**

You are tasked with generating FreeMarker `.ftl` template files based on a complex data model used for database-driven code generation. The data model includes multiple objects (`dbs`, `adv`, `adv.entities`, etc.), nested structures, private and public attributes, and specific generation logic. The goal is to create accurate FreeMarker templates that leverage this data model to generate files (e.g., Java classes, configuration files) while adhering to the provided rules and conventions. Below is the complete data model description, including all attributes, nested lists, setters, and generation logic. Use this information to generate FreeMarker templates that correctly access, iterate, and manipulate the data model, ensuring all attributes and rules are respected.

---

#### **1. Data Model: `dbs` Object**

The `dbs` object represents database connection and metadata configuration.

**Iterable Lists (accessed via `<#list>`):**
- `dbs.catalogs`: List of catalog names (Strings).
- `dbs.schemas`: List of schema names (Strings).
- `dbs.tableTypes`: List of table type names (Strings).
- `dbs.tableTypesList`: Another list of table types (Strings).

**Usage Example:**
```ftl
<#list dbs.catalogs as i>
  ${i?counter}: ${i}
</#list>
```

**Single Field Properties (accessed via `${}`):**
- `catalog`: String, the current catalog.
- `create`: Boolean, indicates if creation is enabled.
- `driverClassName`: String, JDBC driver class name.
- `driverFile`: String, path to the driver file.
- `name`: String, database name.
- `password`: String, database password.
- `profileName`: String, profile name for the connection.
- `schema`: String, current schema.
- `tablePattern`: String, pattern for table names.
- `tableType`: String, type of table.
- `url`: String, database connection URL.
- `user`: String, database username.

**Setters (for overriding values in templates):**
- `setCatalog('catalog')`: Sets the catalog.
- `setCreate(true)`: Sets the create flag.
- `setName('name')`: Sets the database name.
- `setPassword('password')`: Sets the password.
- `setProfileName('profileName')`: Sets the profile name.
- `setSchema('schema')`: Sets the schema.
- `setTablePattern('pattern')`: Sets the table pattern.
- `setTableType('type')`: Sets the table type.

**Usage Example:**
```ftl
${dbs.setCatalog('myCatalog')}
${dbs.catalog}
```

---

#### **2. Data Model: `adv` Object**

The `adv` object contains configuration for code generation and template processing.

**Read-Only Fields:**
- `buildDate`: Datetime, formatted via `${adv.buildDate?datetime}`.
- `comment`: String, a comment for the generation process.
- `generation.create`: Boolean, accessed via `${adv.generation.create?c}`.
- `generation.outputDir`: String, checked via `${adv.generation.outputDir?has_content?c}`.
- `generation.packageName`: String, checked via `${adv.generation.packageName?has_content?c}`.
- `generation.rootDir`: String, the root directory for output.
- `generation.specifyTemplateDir`: Boolean, accessed via `${adv.generation.specifyTemplateDir?c}`.
- `generation.superClassName`: String, checked via `${adv.generation.superClassName?has_content?c}`.
- `generation.templateDir`: String, the template directory path.

**Setters (for modifying values):**
- `setBuildDate(.now)`: Sets build date to current time.
- `setComment('comment')`: Sets the comment.
- `generation.setCreate(true)`: Sets the create flag.
- `generation.setOutputDir('outputDir')`: Sets the output directory.
- `generation.setPackageName('packageName')`: Sets the package name.
- `generation.setRootDir('rootDir')`: Sets the root directory.
- `generation.setSpecifyTemplateDir(true)`: Enables template directory specification.
- `generation.setSuperClassName('superClassName')`: Sets the super class name.
- `generation.setTemplateDir('templateDir')`: Sets the template directory.

**Note:** Avoid using setters unless necessary, as they modify the data model and are discouraged in presentation logic.

**Usage Example:**
```ftl
${adv.setComment('Generated on ${.now}')}
${adv.comment}
```

---

#### **3. Data Model: `adv.draftTemplate`**

The `adv.draftTemplate` object manages draft template configurations.

**Fields:**
- `appDir`: String, accessed via `${adv.draftTemplate.appDir!''}` (defaults to empty string if null).
- `create`: Boolean, accessed via `${adv.draftTemplate.create?c}`.
- `draftDir`: String, accessed via `${adv.draftTemplate.draftDir!''}`.

**Setters:**
- `setAppDir('appDir')`: Sets the application directory.
- `setCreate(true)`: Sets the create flag.
- `setDraftDir('draftDir')`: Sets the draft directory.

**Nested List: `draftTemplateKeyValue`**
- Iterated via `<#list adv.draftTemplateKeyValue as dtkv>`.
- Fields per item (`dtkv`):
  - `create`: Boolean, accessed via `${dtkv.create?c}`.
  - `name`: String.
  - `no`: Number or String.
  - `selected`: Boolean, accessed via `${dtkv.selected?c}`.
  - `value`: String.

**Usage Example:**
```ftl
<#list adv.draftTemplateKeyValue as dtkv>
  ${dtkv.name}: ${dtkv.value} (Selected: ${dtkv.selected?c})
</#list>
```

**Note:** Avoid setters in templates to maintain separation of concerns.

---

#### **4. Data Model: `adv.entities`**

The `adv.entities` is a list of `Entity` objects representing database tables or entities.

**Fields per `Entity` Object (`i` in `<#list adv.entities as i>`):**
- `baseName`: String, base name of the entity.
- `className`: String, derived class name.
- `allFieldSelection`: Boolean, all fields selected.
- `create`: Boolean, creation enabled.
- `emptyBaseName`: Boolean, base name is empty.
- `emptyTableName`: Boolean, table name is empty.
- `haveSpaceTableName`: Boolean, table name contains spaces.
- `instanceName`: String, instance name.
- `remarks`: String, comments (defaults to 'null').
- `reservedWordBaseName`: Boolean, base name is a reserved word.
- `selected`: Boolean, entity is selected.
- `tableName`: String, database table name.
- `validPatternBaseName`: Boolean, base name follows a valid pattern.
- `hasAttachFileField`: Boolean, derived from `hasAttachFileField()`.
- `hasDuplicateFieldName`: Boolean, derived from `hasDuplicateFieldName()`.
- `hasLob`: Boolean, derived from `hasLob()`.
- `toStringStatement`: String, string representation.
- `Test`: String, derived from `getTest('${i.tableName}')`.

**Nested Lists per `Entity`:**
1. `exportedKeys` (List of `ExportedKey`):
   - Fields: `pkTableName`, `pkBaseName`, `pkColumnName`, `fkTableName`, `fkBaseName`, `fkColumnName` (Strings); `fkSequence`, `updateRule`, `deleteRule` (Integers); `fkName`, `pkName` (Strings); `create`, `exported`, `selected` (Booleans, `exported` and `selected` default to `false`).
2. `importedKeys` (List of `ImportedKey`): Same fields as `exportedKeys`.
3. `attachFileFieldList` (List of `Field`): See `Field` attributes below.
4. `fieldList` (List of `Field`): All fields.
5. `fieldListExceptLob` (List of `Field`): Excludes LOB fields.
6. `primaryKeyFieldList` (List of `Field`): Primary key fields.
7. `fieldListExceptForeignKey` (List of `Field`): Excludes foreign key fields.
8. `fieldListSortByOrdinalPosition` (List of `Field`): Fields sorted by ordinal position.
9. `importClassNameList` (List of Strings): Class names to import.
10. `importDeclarations` (List of Strings): Import declaration statements.
11. `toStringFieldList` (List of `Field`): Fields for `toString()` method.

**`Field` Object Attributes (for `attachFileFieldList`, `fieldList`, etc.):**
- `create`: Boolean, creation enabled.
- `lob`: Boolean, is a Large Object.
- `nullable`: Boolean, field can be null.
- `pkPosition`: Integer, primary key position.
- `fieldType`: String, Java type.
- `fieldName`: String, Java camelCase name.
- `columnSize`: Integer, column size.
- `columnType`: String, SQL type.
- `columnName`: String, database column name.
- `remarks`: String, comments (defaults to 'null').
- `autoincrement`: Boolean, auto-incrementing field.
- `ordinalPosition`: Integer, column order.
- `columnDataType`: Integer, SQL data type code.
- `attachFileType`: Boolean, attachment file type.
- `emptyColumnName`: Boolean, column name is empty.
- `emptyColumnType`: Boolean, column type is empty.
- `emptyFieldName`: Boolean, field name is empty.
- `emptyFieldType`: Boolean, field type is empty.
- `firstCapFieldName`: String, capitalized field name.
- `getterMethodName`: String, getter method name.
- `haveSpaceColumnName`: Boolean, column name has spaces.
- `haveSpaceColumnType`: Boolean, column type has spaces.
- `hasNullValue`: Boolean, derived from `hasNullValue()`.
- `nullValue`: String, null representation (defaults to 'null').
- `primitiveType`: Boolean, is a primitive type.
- `reservedFieldName`: Boolean, field name is reserved.
- `setterMethodName`: String, setter method name.
- `simpleFieldType`: String, simple Java type.
- `simpleObjectClassName`: String, simple object class name.
- `toPrimitiveMethod`: String, conversion method (defaults to 'null').
- `unique`: Boolean, unique constraint.
- `validColumnSize`: Boolean, valid column size.
- `validFieldType`: Boolean, valid field type.
- `validNullable`: Boolean, valid nullable attribute.
- `validPatternFieldName`: Boolean, valid field name pattern.
- `validPatternFieldType`: Boolean, valid field type pattern.

**Usage Example:**
```ftl
<#list adv.entities as i>
  Entity: ${i.tableName}
  <#list i.fieldList as k>
    Field: ${k.fieldName} (${k.fieldType}, ${k.columnName})
  </#list>
</#list>
```

---

#### **5. Data Model: `adv.fileDefaultAttrs` and `adv.filePublicAttrs`**

- **Type:** Maps (key-value pairs).
- **Usage:** Iterate with `<#list adv.fileDefaultAttrs as k, v>` or `<#list adv.filePublicAttrs as k, v>`.
- **Example:**
  ```ftl
  <#list adv.fileDefaultAttrs as k, v>
    ${k}: ${v}
  </#list>
  ```

---

#### **6. Data Model: `adv.fileTmplts`**

- **Type:** List of objects.
- **Fields per Object (`k`):**
  - `absolutePath`: String.
  - `allFileAttrSelected`: Boolean.
  - `create`: Boolean.
  - `generatedPath`: String.
  - `generatedType`: String.
  - `name`: String.
  - `path`: String.
  - `relativePath`: String.
  - `selected`: Boolean.
  - `size`: Number.
- **Nested List: `k.fileAttrList`**
  - Fields: `allFileAttrSelected` (Boolean), `create` (Boolean), `desc` (String), `name` (String), `no` (Number/String), `value` (String).

**Usage Example:**
```ftl
<#list adv.fileTmplts as k>
  Template: ${k.name} (${k.generatedPath})
  <#list k.fileAttrList as attr>
    ${attr.name}: ${attr.value}
  </#list>
</#list>
```

---

#### **7. Private System Attributes**

Defined in template comments using the syntax:
```ftl
<#-- ${VAR_NAME|value|description} -->
```

**Core Attributes:**
- `PRV_SYS_GEN_PATH`: Relative output path with placeholders `[class]`, `[table]`, `[instance]`, `[base]`.
- `PRV_SYS_GEN_TYPE`: Generation type (`one`, `many`, `copy`; default: `copy`).
- `PRV_SYS_GEN_FILENAME`: Output file name (removes `.ftl` extension).
- `PRV_SYS_IS_REPLACE`: Boolean, overwrite existing file (`true`) or make unique (`false`; default).
- `PRV_SYS_JAVA_PACKAGE`: Java package, creates directory structure.

**Generation Logic:**
- **Copy Type**: Copies files/folders as-is, overwrites existing, renders FreeMarker directives as raw text.
- **One/Many Type**: Evaluates FreeMarker directives, strips `.ftl` extension, uses placeholders for paths/filenames.
- **Path Pattern**: `[Root Directory] + [PRV_SYS_GEN_PATH] + [PRV_SYS_JAVA_PACKAGE] + [PRV_SYS_GEN_FILENAME]`.

**Example:**
```ftl
<#-- ${PRV_SYS_GEN_TYPE|many|Generate multiple files} -->
<#-- ${PRV_SYS_GEN_PATH|src/main/java/[package]|Output path} -->
```

---

#### **8. Public System Data Type Mapping**

Maps database types to programming language types (e.g., Java) when `PRV_SYS_GEN_TYPE` is `one` or `many`.

**Syntax:**
```ftl
${PUB_SYS_DTM@<DB_DT_TYPE>|<PL_DT_TYPE>|<Description>}
```

**Example Mappings (Postgres to Java):**
- `integer` → `int`, `Integer`
- `bigint` → `long`, `Long`
- `decimal` → `BigDecimal`
- `text`, `varchar` → `String`
- `date` → `java.sql.Date`, `LocalDate`
- `timestamp` → `LocalDateTime`, `Timestamp`
- `boolean` → `boolean`, `Boolean`
- `uuid` → `java.util.UUID`
- `json`, `jsonb` → `String`
- `bytea` → `byte[]`
- `enum` → `String`

**Usage Example:**
```ftl
<#list adv.entities as i>
  <#list i.fieldList as k>
    ${PUB_SYS_DTM@${k.columnType}|${k.fieldType}|Mapped type}
  </#list>
</#list>
```

---

#### **9. Public Attributes**

Environment or system settings, defined as:
```ftl
${PUB_XXXXX|value|description}
```

**Examples:**
- `PUB_DB_TYPE`: Database type (e.g., `postgresql`, `oracle`).
- `PUB_APP_IP`: Application server IP.
- `PUB_DB_IP`: Database server IP.
- `PUB_DB_PORT`: Database port.
- `PUB_DB_USER`: Database username.
- `PUB_DB_NAME`: Database name.
- `PUB_DB_PASS`: Database password.
- `PUB_APP_PKG`: Application package name.

**Rules:**
- Prefix: `PUB_`.
- Values can be overridden centrally in a master attribute table.
- Same attribute can appear in multiple templates; latest value applies.

**Usage Example:**
```ftl
Database: ${PUB_DB_NAME}
```

---

#### **10. General FreeMarker Usage Notes**

- **Boolean Coercion**: Use `${var?c}` to render Booleans as `"true"`/`"false"`.
- **Null Safety**: Use `${var!''}` to default to empty string if null.
- **Avoid Setters**: Prefer read-only access to maintain separation of concerns.
- **Placeholders**: Use `[class]`, `[table]`, `[instance]`, `[base]` in paths/filenames.
- **No Directives in Copy Mode**: In `copy` mode, FreeMarker directives are rendered as raw text.

---

#### **11. Task Instructions**

When generating a FreeMarker template:
1. Use the provided data model (`dbs`, `adv`, `adv.entities`, etc.) to access fields and iterate lists.
2. Respect the generation logic for `PRV_SYS_GEN_TYPE` (`one`, `many`, `copy`).
3. Incorporate private system attributes in comments (`<#-- ${VAR_NAME|value|description} -->`).
4. Use public attributes (`PUB_XXXXX`) for environment-specific values.
5. Apply data type mappings (`PUB_SYS_DTM`) for field types when required.
6. Ensure paths and filenames use placeholders appropriately.
7. Avoid using setters unless explicitly requested, as they modify the data model.
8. Generate syntactically correct FreeMarker code, using `<#list>`, `${}`, and null-safe operators (`!`, `?c`).
9. If generating Java classes, include proper package declarations, imports, and field definitions based on `adv.entities` and its nested lists.

**Example Task:**
"Generate a FreeMarker template that creates a Java class for each `Entity` in `adv.entities` where `tableName` is 'Users'. Include all fields from `fieldList` with their `fieldName` and `fieldType`, and use the `PUB_SYS_DTM` mappings for type conversion. Set `PRV_SYS_GEN_TYPE` to `many` and output to `src/main/java/[package]/[class].java`."

**Expected Output Structure:**
```ftl
<#-- ${PRV_SYS_GEN_TYPE|many|Generate multiple files} -->
<#-- ${PRV_SYS_GEN_PATH|src/main/java/[package]|Output path} -->
<#-- ${PRV_SYS_GEN_FILENAME|[class].java|Output filename} -->


<#list adv.entities as i>
  <#if i.tableName == "Users">
public class ${i.className} {
    <#list i.fieldList as k>
    private ${k.fieldType} ${k.fieldName}; // ${PUB_SYS_DTM@${k.columnType}|${k.fieldType}|Mapped type}
    </#list>
}
  </#if>
</#list>
```

---

**Additional Notes:**
- Ensure all attributes listed above are accessible and usable in the template.
- Handle null values with `${var!''}` or appropriate defaults.
- Use `${var?c}` for Booleans to ensure string output.
- Respect the `copy` mode's raw text rendering for FreeMarker directives.
- Validate that generated paths and filenames are consistent with `PRV_SYS_GEN_PATH`, `PRV_SYS_JAVA_PACKAGE`, and `PRV_SYS_GEN_FILENAME`.

Please generate the requested FreeMarker template based on this data model and the specific requirements provided in the task. If no specific task is given, create a generic template that demonstrates iteration over `adv.entities`, accessing `fieldList`, and incorporating private/public attributes.

---

**End of Prompt**

---

### Notes for Usage
- **Reusability**: This prompt is designed to be reused across multiple AI platforms by providing a complete, self-contained description of the data model and rules.
- **Completeness**: All attributes, nested structures, and generation logic are included to prevent loss of information.
- **Task Customization**: Replace the "Example Task" section with your specific requirements (e.g., generating a specific Java class, configuration file, etc.).
- **AI Platforms**: The prompt is structured to be clear for models like ChatGPT, DeepSeek, Copilot, or Gemini, ensuring they can parse and generate accurate FreeMarker templates.
- **Validation**: After generating the template, verify that it adheres to FreeMarker syntax, respects generation types (`one`, `many`, `copy`), and correctly uses placeholders and attributes.

If you have a specific task or template requirement, please provide it, and I can generate a tailored FreeMarker `.ftl` file using this prompt as a foundation.
```

